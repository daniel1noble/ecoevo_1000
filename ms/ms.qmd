---
title: "The promise of community-driven preprints in ecology and evolution"
bibliography: ../bib/refs.bib
csl: ../bib/nature.csl
format:
  docx:
    reference-doc: ../bib/template.docx
  pdf:
    include-in-header: 
      text: '\usepackage{lineno}\linenumbers'
editor_options: 
  chunk_output_type: console
execute:
  freeze: auto  # re-render only when source changes
  cache: false
  echo: false
  warning: false
  error: false
  include: true
crossref:
  fig-title: 'Figure'
  fig-labels: arabic
  title-delim: "-"
  fig-prefix: "Figure"
  tbl-prefix: "Table"
---

```{r, setup}
#| label: setup

# Set rounding options
options(scipen = 1, digits = 2)

# Load packages
#install.packages("pacman")
#remotes::install_github("lmullen/genderdata")
pacman::p_load(tidyverse, here, patchwork, readxl, MASS, googlesheets4, janitor, maps, forcats,RColorBrewer, flextable, ggrepel, ggimage, gt, performance, gender,genderdata, ggthemes, mapproj, DemografixeR, countrycode, see, glmmTMB, cowplot, viridis, cowplot, magick, lme4, lmerTest)

# Load in the data
  data <- read_xlsx(here("data", "20231003_EER_preprints_metadata.xlsx"))

# Check duplicate titles. Appears some folks submitted the same paper multiple times instead of simply updating their existing one.
  
  # First make sure there is no case sensitivity 
  data <- data %>% mutate(title = tolower(`Preprint Title`))

  # Check for duplicates
  dupl <-  data %>%
    group_by(title) %>% 
    summarise(n = n()) %>% 
    filter(n > 1)

  # Remove duplicates
    data <- data %>% 
            distinct(title, .keep_all = TRUE)

  # Check success. Should be 1216. Yes
    dupl2 <- data %>%
            group_by(title) %>% 
            summarise(n = n()) %>% 
            filter(n > 1)

# How many preprints?
  pr <- length(unique(data$`Preprint ID`))

# Dates preprints were published, range and graph
  dates <- range(data$`Published Date`)

# Delegate details
  #delegates <- read_sheet("https://docs.google.com/spreadsheets/d/1UEAUZWpOm7C1kKoVoYy-u_D6cbHoF--EGxoY0Gl0qHw/edit#gid=836736319", sheet = "Delegate Details") 

  #del_details <- delegates  %>% rename("attend" = "Attended hackathon (yes/no)") %>%
			#mutate(attend = str_to_title(attend))  %>% tabyl(attend)

# Master preprint list
  #master_list <- read_sheet("https://docs.google.com/spreadsheets/d/1UEAUZWpOm7C1kKoVoYy-u_D6cbHoF--EGxoY0Gl0qHw/edit#gid=836736319", sheet = "Master List of Preprints") %>% clean_names()

# Check allocation of papers
		#contr_extract <- master_list  %>%  tabyl(extractor_full_name)

	# Check how many each person has done relative to their total
		#contr_extract2 <- master_list %>% group_by(extractor_full_name) %>% summarise(n = n(), yes = sum(completed_yes_no_extractor == "Yes"), no = sum(completed_yes_no_extractor == "No"), prop = yes/n)  %>% data.frame()  %>% arrange(n)

# raw data. For analysis
	#data_coll <- read_sheet("https://docs.google.com/spreadsheets/d/1032gLryvtCNJ7eJjKBjrn7txxDRUGql9SoIG18QnFrQ/edit?resourcekey#gid=1062856014")

# Final Processed data
  data2 <- read_csv(here("data", "final_data2.csv"))

# Subset the relevant rows
		data3  <- data  %>%  dplyr::select(`Preprint ID`, `Preprint DOI`, `Published Date`)  %>% rename("preprint_pub_date" = "Published Date",
                                                                                                      "preprint_id"  = "Preprint ID") 

# Merge with the main data to make sure that the published data of the preprint is known for ALL papers
    data2  <- left_join(data2, data3, by = c("preprint_id" = "preprint_id")) 

```

Authors: Daniel W.A. Noble ^1^, $\ddagger$, Hackathon Participants, Shinichi Nakagawa^2,\*^,Malgorzata Lagisz^2,\*^

Affiliations: 

^1^ Division of Ecology and Evolution, Research School of Biology, The Australian National University, Canberra, ACT 2600, Australia &NewLine;  
^2^ Ecology and Evolution Research Centre, School of Biological, Earth and Environmental Sciences, University of New South Wales, Sydney, NSW, Australia &NewLine;  

$\ddagger$ corresponding author, daniel.noble@anu.edu.au &NewLine;

\* equal contribution 

# Introduction

Publishing preprints -- papers communicating non-peer-reviewed research findings -- is now an entrenched practice across a multitude of scientific disciplines [@Ginsparg2011]. While preprint use in biology has had a slower uptake [@Berg2016], in ecology and evolution, new discipline-specific preprint servers, such as *EcoEvoRxiv*, provide a means by which ecologists and evolutionary biologists can disseminate research findings. Preprints are expected to promote open science, increase the visibility of research (e.g., [fu2019releasing]), and facilitate the rapid sharing of new discoveries that can have significant impacts on fundamental and applied knowledge globally. Preprints attempt to break down barriers to scientific publishing by: 1) increasing the speed, visibility and output of research findings; 2) helping establish precedence of research findings; 3) removing financial barriers to publication; and 4) encouraging constructive and critical feedback from the research community [@Proulx2013; @bourne2017ten; @vale2015accelerating]. 

Preprint servers can empower researchers to make their findings more accessible, open, and transparent but only if they are used as forums for spreading and discussing findings within a research community. Significant barriers to preprint use still exist globally â€“ from a lack of clarity around preprint policies at journals [@Klebel2020] to a stigma that preprints are viewed by the research community to be of poor quality [@Chiarelli2019] (but see [@Faser2022]). Nonetheless, we lack a systematic understanding of the factors that influence preprint use in ecology and evolution that can help inform future initiatives and allow us to work harder in further breaking down barriers to preprint use in our field. 

*EcoEvoRxiv* is one of the few community-driven preprint servers that has paved the way for new initiatives, including by accepting multilingual preprints, recognising registered reports and non-traditional research reports, and promoting peer review and community discussion to improve the quality of preprints and speed up their peer-reviewed publication (e.g., Peer Community In -- PCI [@guillemaud2019peer]). Peer Community In allows for fast constructive peer review around a preprint. Peer reviews are transparent and published online and the community makes a recommendation on where the reasearch findings should be published [@guillemaud2019peer]. 

Here, we explore the first preprints uploaded to *EcoEvoRxiv* to understand preprint practices and uses in ecology and evolution. We focus our attention on better understanding: 1) what countries authors who use *EcoEvoRxiv* are located; 2) how career stage and gender impact preprint server use; 3) the extent to which authors make use of preprint servers for registered reports and community-driven peer review; 4) the extent to which data and code are shared in preprints; and 5) how many preprints remain unpublished, and for those that are published, how long it took them to become published. In the process, we also provide a summary of what makes *EcoEvoRxiv* distinct from other preprint servers to help further educate researchers about the benefits of using community-driven preprint servers to post their research findings.

# Getting to know your *EcoEvoRxiv* preprint server

*EcoEvoRxiv* is run by the Society for Open, Reliable, and Transparent Ecology and Evolution (SORTEE). Originally launched in 2018 on the Center for Open Science preprint platform, *EcoEvoRxiv* has grown to become a popular preprint server for researchers in ecology and evolution. It has since been adopted by the California Digital Library (CDL) to be hosted in perpetuity without fees. Editors are researchers across the globe in the fields of ecology and evolution who volunteer their time to screen papers and push new initiatives in the preprint space. *EcoEvoRxiv* accepts both preprints and postprints. Postprints are articles that are already published but are the final version of the published paper before typesetting for the research journal. Postprints are a useful way to ensure published articles are openly accessible and can be posted anytime after publication (assuming the journal has a preprint policy that recognises preprints - though most do). To better understand preprint (and postprint) use on *EcoEvoRxiv*, we downloaded metadata on the articles available on *EcoEvoRxiv* as of `r gsub("UTC", "", dates[2])`. For the purpose of summarising articles on *EcoEvoRxiv* we include both preprints and postprints as 'articles' in our overview analysis.

```{r, fig-summary}
#| label: fig-summary
#| fig-cap: Summary of articles posted to *EcoEvoRxiv*. A) Number of articles (preprints and postprints) published monthly to *EcoEvoRxiv* between 2018 and 2023. *EcoEvoRxiv* was established in June 2018 before the soft launch in November 2018; B) Countries that are posting articles (preprints and postprints) to *EcoEvoRxiv* as inferred from the country of affiliation of the submitting author; C) Taxa used / covered in the articles posted to *EcoEvoRxiv*; D) Types of articles accepted on *EcoEvoRxiv*. E) Career stage of authors posting to *EcoEvoRxiv* along with the gender of the submitting author.
#| echo: false
#| warning: false
#| message: false

  # Subset the preprints
  preprints <- data2  %>% filter(time_between_preprint_and_pub_days >= 60)

  dates_preprints <- range(preprints$preprint_published_date)
##---------------------##
# Articles on EcoEvoRxiv over time
##---------------------##
  angle = 45
  p1 <- ggplot(data2, aes(x = preprint_pub_date)) +
    geom_histogram(fill = "black", color = "black") +
    labs(x = "Published Date", y = "Number of Papers") +
    theme_bw() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1)) + theme(plot.tag = element_text(size = 16, face = "bold"), plot.tag.location = "margin") + ylim(0, 130) + 
      # Soft Launch of EcoEvoRxiv
    annotate( "segment", x = as.POSIXct("2018-07-01"),  xend = as.POSIXct("2018-07-01"), y = 0, yend = 82, color = "#ffd966", linetype = "dashed", size = 1.5) + 
    annotate("text", x = as.POSIXct("2018-07-01"), y = 85, label = "Soft Launch", color = "#ffd966", size = 4, angle = angle, hjust = 0) +
    # Launch of EcoEvoRxiv
    annotate( "segment", x = as.POSIXct("2018-11-11"),  xend = as.POSIXct("2018-11-11"), y = 0, yend = 82, color = "#2986cc", linetype = "dashed", size = 1.5) + 
    annotate("text", x = as.POSIXct("2018-11-11"), y = 85, label = "Launch", color = "#2986cc", size = 4, angle = angle, hjust = 0) +
    # Spanish and Port
    annotate( "segment", x = as.POSIXct("2023-02-14"),  xend = as.POSIXct("2023-02-14"), y = 0, yend = 82, color = "#3d85c6", linetype = "dashed", size = 1.5) + 
    annotate("text", x = as.POSIXct("2022-11-14"), y = 85, label = "Spanish and Portug.", color = "#3d85c6", size = 4, angle = angle, hjust = 0) +
    # Transition to CDL
    annotate( "segment", x = as.POSIXct("2022-09-14"),  xend = as.POSIXct("2022-09-14"), y = 0, yend = 82, color = "#008000", linetype = "dashed", size = 1.5) + 
    annotate("text", x = as.POSIXct("2022-07-14"), y = 85, label = "CDL", color = "#008000", size = 4, angle = angle, hjust = 0) +
   # IUCN Red Eco submission 29 August 2023
   # 1000 preprints
    annotate( "segment", x = as.POSIXct("2023-08-29"),  xend = as.POSIXct("2023-08-29"), y = 0, yend = 82, color = "#cc0000", linetype = "dashed", size = 1.5) + 
    annotate("text", x = as.POSIXct("2023-04-29"), y = 85, label = "IUCN Report", color = "#cc0000", size = 4, angle = angle, hjust = 0) 
##---------------------##
# Countries using EcoEvoRxiv
##---------------------##
  # Create a global map with countried highlighted and shaded according to the frequency of preprints from that country
  # First, we need to get the country names and the number of preprints from each country
    countries <- data2  %>% tabyl(submitting_author_country)  %>% rename("country" = submitting_author_country, "n" = n)  %>% mutate(country = ifelse(country == "NA", "Unknown", country))  %>% arrange(desc(n))  %>% mutate(country=str_to_title(country))

  # Now we can plot the map, but before we do we need to make sure the names in the countries file match those in the region of the world map
    world_map <- map_data(map = "world") %>% 
    filter(! long > 180)

  # List unique countries
    maps_country_name <- unique(world_map$region) # Names of regions in maps
    #countries[!countries$country %in% maps_country_name,] # Names of countries in our data that are not in the maps data, we need to fix these in countries

  # Fix names in countries
      replace <- c("United States Of America" = "USA",  "United Kingdom" = "UK",  "Czechia" = "Czech Republic") 
    countries <- countries  %>% mutate(country = str_replace_all(country, replace))  %>% filter(!is.na(valid_percent ))  %>% mutate(valid_percent_dis = factor(round(valid_percent, 3)*100, ordered = TRUE))  

   
  p2 <- ggplot(countries) +
    geom_map(aes(map_id = country, fill = valid_percent_dis), map = world_map) +
    geom_polygon(data = world_map, aes(x = long, y = lat, group = group), colour = 'black', fill = NA) +
    expand_limits(x = world_map$long, y = world_map$lat) +
    theme_void() + expand_limits(x = world_map$long, y = world_map$lat) + scale_fill_viridis(discrete = TRUE) + coord_fixed() + labs(fill="Precentage (%) of Total") +  coord_map("moll") + theme(plot.tag = element_text(size = 16, face = "bold"), plot.tag.location = "margin")

  # Find the countries with 90% of the preprints

  most_use <- countries[cumsum(countries$valid_percent) <= 0.90, ]

##---------------------##
# Taxa
##---------------------##
  cols <- c("plants", "algi", "fungi", "microorganisms", "invertebrates", "vertebrates")

  # Summary of the data
  sum_taxa <- data2  %>% dplyr::select(all_of(cols))  %>% apply(., 2, sum, na.rm = TRUE)  %>% data.frame()   %>% rownames_to_column(var = "taxa")  %>% rename("n" = ".")  %>% mutate(perc = n/sum(n)*100, labels = paste0(round(perc, 1), "%"))

  # Use data to create a pir chart and clean up colour palette

  p3 <- ggplot(sum_taxa, aes(x = "", y = perc, fill = taxa)) +
    geom_col(color = "black") +
    geom_label_repel(aes(label = labels),
              position = position_stack(vjust = 0.6),
            show.legend = FALSE) +
    scale_fill_viridis_d() +
    coord_polar(theta = "y") + 
    theme_void() + labs(fill = "Taxa") + theme(plot.tag = element_text(size = 16, face = "bold"), plot.tag.location = "margin")

##---------------------##
# Types pf preprints
##---------------------##
# Summary of the data
  sum_types <- preprints  %>% tabyl(type_of_preprint)  %>% rename("type" = type_of_preprint, "n" = n)  %>% mutate(perc = n/sum(n)*100, labels = paste0(round(perc, 1), "%"))

  p4 <- ggplot(sum_types, aes(x = "", y = perc, fill = type)) +
    geom_col(color = "black") +
    geom_label_repel(aes(label = labels),
              position = position_stack(vjust = 0.6),
            show.legend = FALSE) +
    scale_fill_viridis_d() +
    coord_polar(theta = "y") + 
    theme_void() + labs(fill = "Article Type") + theme(plot.tag = element_text(size = 16, face = "bold"), plot.tag.location = "margin")

nt <- sum_types  %>% filter(type %in% c("book", "report", "book chapter", "other"))  %>% summarise(perc = sum(perc))

##-------------------##
# Career Stage & Gender
##-------------------##

p5 <- ggplot(preprints, aes(x = submitting_author_first_publication_year)) +
  geom_histogram(binwidth = 1, fill = "grey", color = "black") +
  labs(x = "Year of submitting authors first publication", y = "Number of preprints") +
  theme_bw() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

count_dat  <- preprints  %>% group_by(submitting_author_first_publication_year)  %>% summarise(n = n())

model <- glm.nb(n ~ submitting_author_first_publication_year, data = count_dat)
res <- summary(model)$coefficients

# First need to get the authors first name
  data2 <- data2 %>% mutate(submitting_author_firstname = str_split(submitting_author, " ") %>% map_chr(1))

# In order to localise by country we need to get the country code
  data2 <- data2 %>% mutate(submitting_author_country_code = countrycode(data2$submitting_author_country, origin = "country.name", destination = "iso2c"))

# Lets have a quick look at whether these are 'correct'
  #data2 %>% dplyr::select(submitting_author_country_code, submitting_author_country)  %>% distinct()

# This looks good, but lets see which two are NA. These are in fact NA, even though they shouldn't really be as affliations are not listed on preprint. Even the published paper isn't clear. 
  #data2 %>% filter(is.na(submitting_author_country_code))  %>% data.frame()

# Get gender using all unique first names from the data set
data_genders <- data.frame(gender(unique(data2$submitting_author_firstname)))
#dim(data_genders) #514 assigned
#names(data_genders)
colnames(data_genders)[1]  <- c("submitting_author_firstname")

# Merge with main data frame
data3 <- left_join(data2, data_genders, by = c("submitting_author_firstname"))
#names(data3)
#table(is.na(data3$proportion_male)) #157 missing

# Pull out records missing names
#data3[is.na(data3$proportion_male), c("submitting_author", "submitting_author_country") ] #157 missing
#data3[is.na(data3$proportion_male) == FALSE & data3$proportion_male > 0.05 & data3$proportion_male < 0.95, c("submitting_author", "submitting_author_country") ] # 84 missing a bit unsure

#transliterate the non-ASCII characters using stringi package, e.g.: #stri_trans_general("ZaÅ¼Ã³Å‚Ä‡ gÄ™Å›lÄ… jaÅºÅ„", "Latin-ASCII")
data3$submitting_author_ASCII <- stringi::stri_trans_general(data3$submitting_author, "Latin-ASCII")

#data3 %>% 
  #filter(is.na(data3$proportion_male) == TRUE | (proportion_male > 0.05 & proportion_male < 0.95)) %>% dplyr::select(submitting_author_ASCII, submitting_author, submitting_author_country, preprint_title, gender) %>% 
 # write.csv(file = here("data", "final_data3_fillin.csv")) #used to manually check and fill in gender data - then saved as final_data3_fillin_ML.csv

# Load updated data	subset
data3_update <- read_csv(here("data", "final_data3_fillin_ML.csv"))
#dim(data3_update)
#names(data3_update)

data4 <- left_join(data3, data3_update, by = c("submitting_author_ASCII", "submitting_author", "submitting_author_country", "preprint_title"))
#table(data4$gender.x, useNA = "always")
#table(data4$gender.y, useNA = "always")
data4$gender.x[is.na(data4$gender.x)] <- data4$gender.y[is.na(data4$gender.x)] #replace with correct values
data4 <- rename(data4, gender = gender.x)
#table(data4$gender, useNA = "always") #more males than females, two NA ue to missing first name / collective authorship

# Plot the data
p6 <- data4 %>% filter(!is.na(gender))  %>% tabyl(gender)  %>% mutate(perc = n/sum(n)*100, labels = paste0(round(perc, 1), "%"))  %>%  ggplot(aes(x = "", y = percent, fill = gender)) +
    geom_col(color = "black") +
    geom_label_repel(aes(label = labels),
              position = position_stack(vjust = 0.6),
            show.legend = FALSE) +
    coord_polar(theta = "y") + 
    theme_void() + labs(fill = "Gender") + theme(plot.tag = element_text(size = 16, face = "bold"), plot.tag.location = "margin")


p7  <- ggdraw() + draw_plot(p5) + draw_plot(p6, x = 0.05, y = 0.40, width = 0.6, height = 0.6)

## Final plot. World map in the middle with others around

layout <- "
#AAAAAA#
#AAAAAA#
#AAAAAA#
BBBBBBBB
BBBBBBBB
BBBBBBBB
CCCCDDDD
CCCCDDDD
##EEEE##
##EEEE##
"

p_summary <- p1+p2+p3+p4+p7 + plot_layout(design = layout)+ plot_annotation(tag_levels = 'A', tag_suffix=")") + theme(plot.tag = element_text(size = 16, face = "bold"))
ggsave(p_summary, filename = here("output", "figs", "summary.png"), width = 11, height = 12) 

fig1 <- image_read(here("output", "figs", "summary.png"))
fig1
```

 
### *Overview of **EcoEvoRxiv** preprints (and postprints)*

After removing `r dim(dupl)[1]` duplicate titles â€“ suggesting a few authors created multiple submissions for the same preprint rather than updating an existing submission â€“ we had data for a total of `r pr` articles with ~55-60 preprints published each month in the last two years ([@fig-summary]A). Authors from a total of `r length(unique(countries$country))-1` countries have used *EcoEvoRxiv* as a preprint server. Unsurprisingly, authors from countries in North America and Europe upload the most preprints. Authors from countries in Africa, Central America and parts of Asia still do not use *EcoEvoRxiv* much ([@fig-summary]B). Overall, 90% of the articles come from just `r nrow(most_use)-1` countries. Articles covered all major taxonomic groups, with the most common being vertebrates (`r sum_taxa$perc[6]`%), plants (`r sum_taxa$perc[1]`%) and invertebrates (`r sum_taxa$perc[5]`%) ([@fig-summary]C). 

### *Diversifying articles types on **EcoEvoRxiv**: overcoming the 'grey literature' problem*

Given that *EcoEvoRxiv* is a community-driven preprint server it has managed to diversify the types of articles accepted. It accepts reports and books that are often not easily accessible, but may contain important data of relevance to research syntheses or for practitioners.  As a result, articles on *EcoEvoRxiv* are more diverse in nature than those on other preprint servers; nonetheless, typical research articles (`r sum_types[sum_types$type == "research article",]$perc`%) are still the most common type of preprint, followed by reviews and meta-analyses (`r sum_types[sum_types$type == "reviews and meta-analyses",]$perc`%) and opinion papers (`r sum_types[sum_types$type == "opinion",]$perc`%) ([@fig-summary]D). 

Accepting a greater diversity of article types allows *EcoEvoRxiv* to begin dealing with the 'grey literature' problem whereby data that are relevant for research syntheses are not published in typical peer-reviewed journals[@haddaway2015shades; @haddaway2020eight]. This is reflected by `r nt`% of articles that could be considered â€˜grey literatureâ€™ in ecology and evolutionary biology: books, book chapters, reports, and other research output types. Currently, *EcoEvoRxiv* does not host many reports (`r sum_types[sum_types$type == "report", "perc"]`%), particularly from government and industry. We would encourage authors to consider posting these types of articles to ensure they are openly accessible and more easily found. *EcoEvoRxiv* has already formed fruitful partnerships with the International Union for Conservation of Nature (IUCN) to be a place where their reports can be lodged to make them more easily accessible to the broader research community. For example, IUCN Red Ecosystem Reports are now posted to *EcoEvoRxiv* and our community has been able to work closely with the IUCN to ensure these documents meet the IUCN requirements. 

### *Breaking down language barriers to scientific communication: improving diversity and data representation globally*

A significant barrier to the communication of research findings is due to the fact that they are primarily communicated in English [@amano2016languages; @amano2013four; @amano2021ten]. Communication of research through a single language has major consequences for the global distribution of knowledge resulting in knowledge gaps in some of the most biodiverse and threatened regions in the world [@amano2023role; @zenni2023multi]. Such gaps also have flow on effects for research syntheses and meta-analyses because they create a distorted picture of our knowledge base that can lead to bias and inadequate sampling that affects policy development and decision making [@hannah2024language; @zenni2023multi; @white2021geographical; @konno2020ignoring].  

*EcoEvoRxiv* is the only preprint server breaking down language barriers to scientific communication; currently accepting English, Spanish, Portuguese and French manuscripts. Such initiatives are incredibly important if we are to begin filling global voids of scientific knowledge. Multilingual initiatives have been slow to take off on *EcoEvoRxiv*, with only a few Spanish preprints posted to date, and none in other accepted languages (e.g., French and Portuguese). Part of the challenge in getting authors to submit non-English preprints is the lack of awareness of *EcoEvoRxiv* in non-English speaking countries and the fact that it accepts preprints in different languages, cultural differences in the perception of preprints and a strong reliance on traditional publishing models, which typically favour publishing in English.

### *Generational and gender-based gaps in preprinting practices* 

Research papers take time to be published (see below). Early and mid-career researchers (ECMRs) need their research to come out quickly for job applications, promotion and obtaining grants to accelerate their careers [@vale2015accelerating; @sarabipour2019value]. Preprints are one way ECMRs can achieve faster dissemination and greater visibility. As such, we expect ECMRs to accept and adopt preprints more than colleagues at later career stages. At the same time, gender differences in preprint use and publication outcomes  have been observed in a number of other research fields, including ecology and evolution [@fox2019gender; @wehner2020comparison]. We therefore expect such discrepancies to manifest in preprint use on *EcoEvoRxiv*, but it is unclear to what extent. Understanding gender publishing patterns is challenging with observational data such as ours because we cannot know the gender of authors for certainty but we can use a data-driven approach to ascertain the probability that a particular name is of a given gender (male or female). To obtain an idea of an author's gender, we used the R package *gender* (vers. `r utils::packageVersion("gender")`; @mullen2021predict) to predict the most likely gender of the submitting author of a preprint. We only used algorithm-assigned names where the gender was identified with 95% certainty. For the remaining names, we performed manual searches to determine gender based on the pronouns and photographs from professional and personal websites (we acknowledge that our approach does not capture self-assigned and non-binary genders). Our data on gender has only two missing values â€“ one where the first name of the submitting author was missing and the other one for a collective submission.

Overall, females were less likely to publish preprints on *EcoEvoRxiv* compared to males (females: `r (table(data4$gender)[1] / sum(table(data4$gender))*100)`% compared to males: `r (table(data4$gender)[2] / sum(table(data4$gender))*100)`%), which is likely a reflection of the broader publishing disparities between male and female scientists [@fox2019gender]. There was also strong evidence that the number of preprints posted decreases with later career stages (negative binomial glm: year slope = `r res[2, "Estimate"]`, SE: `r res[2, "Std. Error"]`, *p* < 0.001, N = `r nrow(count_dat[complete.cases(count_dat),])`). The majority of preprints were submitted by authors who published their first paper in the last 10 years ([@fig-summary]E), with the median year of first publication of submitting authors being `r median(data2$submitting_author_first_publication_year, na.rm = TRUE)` (mean = `r round(mean(data2$submitting_author_first_publication_year, na.rm = TRUE),0)`; SD = `r sd(data2$submitting_author_first_publication_year, na.rm = TRUE)`). These patterns support the expectation that ECMRs may value preprints as a way to make their work more visible and disseminate their finding more quickly. 

# Following the journey of a preprint on *EcoEvoRxiv*: from submission to publication
```{r, fig-pubsummary}
#| label: fig-pubsummary
#| fig-cap: Summary of the publication status of preprints on *EcoEvoRxiv*.  A) Time between submission and publication of preprints on *EcoEvoRxiv*. 'Preprints' that were published within 2 months (60 days) of being submitted are considered postprints. B) Number of preprints that were published in open access journals. C) Open access status of preprints published on *EcoEvoRxiv*. 

##---------------------##
# Publication times
##---------------------##

# How many remain unpublished?
unpub <- data2  %>% filter(is.na(publication_doi))  %>% nrow()

# Summary of the data
# what is the range
sum_preprints <- preprints  %>% summarise(min = min(time_between_preprint_and_pub_days), max = max(time_between_preprint_and_pub_days), mean = mean(time_between_preprint_and_pub_days), median = median(time_between_preprint_and_pub_days), sd = sd(time_between_preprint_and_pub_days))

p1_pub <- preprints %>% ggplot(aes(x = time_between_preprint_and_pub_days)) + geom_histogram(binwidth = 30) + geom_vline(aes(xintercept = sum_preprints$median), colour = "red", linetype = "dashed", linewidth = 1) + annotate("text", x = sum_preprints$median + 650, y = 60, label = paste0(sum_preprints$median, " days", "(~ ", sum_preprints$median/30, " months)"), size = 10, colour = "red") + labs(x = "Time to Publication (days)", y = "Number of Papers") + theme_classic() + theme(axis.title = element_text(size = 14))

##-------------------##
# Open access
##-------------------##

# Summary of the data
sum_is_oa <- tabyl(preprints$is_oa)
sum_oa_status <- tabyl(preprints$oa_status)

p2_pub <- preprints  %>% ggplot(aes(x = is_oa)) + geom_bar() + labs(x = "Open Access", y = "Number of Papers") + theme_classic() + theme(axis.title = element_text(size = 14))

p3_pub <- preprints  %>% ggplot(aes(x = oa_status, fill = oa_status)) + geom_bar() + labs(x = "Open Access Status", y = "Number of Papers") + theme_classic() + theme(axis.title = element_text(size = 14), legend.position = "none") + scale_fill_manual(values = c("bronze" = "#9b6023", "gold" = "#ffd700", "green" = "#008000", "hybrid" = "#6fa8dc", "NA" = "grey", "closed" = "black"))

p_pubsummary <- (p1_pub + p2_pub + p3_pub) + plot_annotation(tag_levels = 'A', tag_suffix=")")
ggsave(p_pubsummary, filename = here("output", "figs", "pubsummary.png"), width = 20, height = 7)

##-------------------##
# Data and Code Sharing
##-------------------##

# Summary of the data
  preprint_data <- preprints  %>% tabyl(data_link_preprint_cleaned) 
  preprint_code <- preprints  %>% tabyl(code_link_preprint_cleaned) 
  article_data <- preprints  %>% tabyl(data_link_article_cleaned) 
  article_code <- preprints  %>% tabyl(code_link_article_cleaned) 

# Check if it was shared not in preprint but then in article
  pre_article_data <- preprints   %>%  filter(!data_link_preprint_cleaned == "not applicable") %>% mutate(data_shared = ifelse(data_link_preprint_cleaned == "no" & data_link_article_cleaned == "yes", "yes", ifelse(code_link_preprint_cleaned == "yes" & code_link_article_cleaned == "yes", "always", "no")))  %>% tabyl(data_shared)
  pre_article_code <- preprints  %>%  filter(!data_link_preprint_cleaned == "not applicable") %>% mutate(code_shared = ifelse(code_link_preprint_cleaned == "no" & code_link_article_cleaned == "yes", "yes", ifelse(code_link_preprint_cleaned == "yes" & code_link_article_cleaned == "yes", "always", "no")))  %>% tabyl(code_shared)

##-------------------##
# PCI Recommendations
##-------------------##
  # How many articles were PCI recomended
  pci <- preprints  %>% tabyl(pci_recommendation_preprint)  

##-------------------##
# Title changes
##-------------------##
titles <- preprints %>%  filter(!is.na(publication_doi)) %>% tabyl(publication_title_changed)


fig2 <- image_read(here("output", "figs", "pubsummary.png"))
fig2
```


### *Science takes time, but publication could take longer*
Increased competition in science has raised the bar with respect to the amount of data required for publication [@vale2015accelerating]. This is a good outcome if it results in higher impact research that better clarifies our understanding of the natural world, but it does come at a cost for the rate at which research findings can be disseminated [@vale2015accelerating]. Preprinting has been proposed as a way to disseminate research more quickly as it can take a long time before results are ultimately published [@bourne2017ten; @vale2015accelerating]. However, data on the time to publication is sparse, and the real benefit of preprints in this context would be reinforced if preprinting can dramatically speed up dissemination. We evaluated how long it takes to publish a research paper in ecology and evolution by ascertaining the time between when a preprint was first posted and finally accepted in a research journal. In total, `r unpub` papers were still unpublished out of the `r nrow(data2)` (`r (unpub / nrow(data2))*100`%) when these data were collected. Astonishingly, the maximum time between preprint submission and publication was `r sum_preprints$max` days or `r sum_preprints$max/365` years ([@fig-pubsummary]A), and the median time to publication was `r sum_preprints$median` days (mean = `r sum_preprints$mean`; SD = `r sum_preprints$sd` days). Our results largely confirm the long timespans most authors are dealing with to get their research published after the paper is written.


### *Cautious 'open'-mindedness of research in preprints*
In addition to speeding up dissemination, preprints can also be a useful way to ensure that research remains open and accessible to the research community because the paper is available online no matter what the open access status of the publication ends up being [@bourne2017ten; @vale2015accelerating]. Using the published articles on *EcoEvoRxiv*, we evaluated the open access status of each paper using the R package *roadoi* to connect to Unpaywall platform [@jahn2024]. Most of the published preprints ended up being open access ([@fig-pubsummary]A), however, the status of many `r sum_is_oa$n[3]` (`r sum_is_oa$percent[3]*100`%) were unknown, and `r sum_is_oa$n[1]` (`r sum_is_oa$percent[1]*100`%) were not published in open access research journals. The level of open access for a paper published in an open-access journal also varied widely ([@fig-pubsummary]B). 

Data and code sharing are also key components of open science [@roche2015public]. In the spirit of 'openness' we expected data and code sharing among preprints to be better than in many papers published in research journals [@roche2015public; @o2021preferred]. Despite this, we found that `r preprint_data[1,2]` (`r preprint_data[1,"percent"]*100`%) of relevant preprints on *EcoEvoRxiv* (i.e., only where data was generated) did not share data, while `r preprint_code[1,2]` (`r preprint_code[1,"percent"]*100`%) did not share code. Authors may be reluctant to share data and code for preprints because of the perceived concern that others may acquire and use such data and code without authors' consent. However, while `r pre_article_data[3,2]` (`r pre_article_data[3,"percent"]*100`%) of preprints that did not share data at the preprint stage did ultimately share data in the published article, there were still `r pre_article_data[2,2]` (`r pre_article_data[2,"percent"]*100`%) that never shared data. The same was true for code. Overall, `r pre_article_code[3,2]` (`r pre_article_code[3,"percent"]*100`%) of preprints did not share code at the preprint stage but did in the published article; however, `r pre_article_code[2,2]` (`r pre_article_code[2,"percent"]*100`%) never shared code. Code and data- sharing patterns in our sample of preprints are consistent with analyses of published articles (e.g., [@o2021preferred]), even for journals with strict public data archiving policies [@roche2015public].

# Paving *our* own future of open, transparent and community-driven science

Our data-driven approach has allowed us to better understand some of the key elements of uncertainty surrounding preprints and identify shortcomings and areas needing greater clarity to authors. Several key insights follow from our analysis of the first *EcoEvoRxiv* preprints. 

- First, authors need not be afraid of sharing data and code early in the preprint stage. Sharing data and code early can help improve the quality of research, establish precedence, and improve the transparency and computational reproducibility of scientific findings [@sarabipour2019value]. If authors are worried about data being used unintentionally, clear information surrounding its reuse and withholding some data or meta-data needed to understand the dataset may be options. 
- Second, authors need to be aware of the benefits of posting preprints and post-prints for constructive feedback [@bourne2017ten]. While it is clear preprints help establish precedence and allow findings to be openly accessible, it is still rare that constructive discussions form around preprints in an open form, which is consistent with findings on other preprint servers (e.g. bioRxiv [@anderson2020biorxiv]). Clearly, as a community, we need to provide better platforms that document discussions around preprint findings. Such discussions help the authors improve their work and communicate their findings more effectively (when done constructively, of course). One way to facilitate such discussions may be to use open peer reviewing services such as *Peer Community In* (PCI) or *PubPeer* to provide feedback on preprints that ultimately is associated with a preprint.
- Third, it remains clear that the time between preprinting and publication is still quite long. One possible explanation is that preprints are not being sent to suitable journals. Interestingly, out of the `r nrow(data2)` preprints, only `r pci[2,2]` (`r pci[2,3]*100`%) used Peer Community In (PCI) as a preprint peer-review service. Using PCI provides authors with quicker reviews of a paper and a more realistic recommendation of where such work is likely to be published. Many journals now also accept PCI reviews and recommendations when publishing a paper. As such, we would encourage more authors to consider sending their preprints for PCI review to possibly speed up the publication process. 
- Finally, while most preprints get seamlessly connected with and merged with their published version some remain disconnected. Incorrect cross-linking can create confusion and lead to frustration among authors. Thankfully, the reasons for unmatched preprints and publications are well understood and easily rectified. They often result from a mismatch between preprint and published metadata (e.g., titles and author details). In fact, it was reasonably common for titles of preprints to change between the preprint and the published article (`r titles[2,2]` or `r titles[2,3]*100`%). We found that mismatched metadata almost always contributed to preprints and published articles not being matched automatically in Google Scholar. We recommend that authors ensure that, when preprints are published in a journal, they update their preprint with the publication DOI. Especially if their title has changed, this is quite easy for authors to do on *EcoEvoRxiv*, and it will ensure that the preprint is linked to the published article and that the citations are merged. It will also create a link between the final preprint and the published paper so that, no matter the open access status of the publication, the research findings will remain openly accessible, saving costs for authors and improving the visibility and use of research.

Despite the early successes of the new initiatives taken by *EcoEvoRxiv*, much work needs to be done to improve our communityâ€™s understanding and use of preprints (and post-prints). We view this perspective piece as one small step in achieving that goal. Authors must also be aware of the benefits of using community-driven preprint servers and the unique initiatives being pursued. Community-driven preprint servers are capable of setting their own agenda and are driven by the needs and desires of the community. Supporting these initiatives should be a priority for all researchers. Volunteers at *EcoEvoRxiv* should remain open to new and innovative ways to improve publication and open science practices. We believe that the future of preprints is bright, and community-driven initiatives, such as *EcoEvoRxiv*, are set to play a crucial role in the future of scientific publishing.

# Acknowledgements
We would like to thank the California Digital Library (CDL) and the CDL team (particularly Alainna Wrigley) for their support in hosting and maintaining *EcoEvoRxiv* for the Society for Open, Reliable, and Transparent Ecology and Evolution (SORTEE). We would also like to thank Gabriela Hidalgo and Daisy Larios for helping connect us with the IUCN and facilitating discussions to make *EcoEvoRxiv* a place where IUCN reports can be posted. Finally, we would also like to thank the endless number of SORTEE volunteers, and those especially on the *EcoEvoRxiv* Committee, who have helped to make *EcoEvoRxiv* a success. This paper emerged from a hackathon at the 2023 SORTEE conference, and we thank delegates who attended the session but could not be part of this paper. DWAN would also like to thank the Australian Research Council for a Future Fellowship (FT220100276).

# Data and Code Availability
All data and code can be found on GitHub at: https://github.com/daniel1noble/ecoevo_1000

# References